<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>极客丹尼 - 每天进步一点</title><meta name="keywords" content="‘科技’"><meta name="author" content="Danny Song"><meta name="copyright" content="Danny Song"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="白羊男子 一半明媚 一半忧伤">
<meta property="og:type" content="website">
<meta property="og:title" content="极客丹尼">
<meta property="og:url" content="https://broadgeek.com/index.html">
<meta property="og:site_name" content="极客丹尼">
<meta property="og:description" content="白羊男子 一半明媚 一半忧伤">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/geekdanny/images/master/avatar.jpg">
<meta property="article:author" content="Danny Song">
<meta property="article:tag" content="‘科技’">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/geekdanny/images/master/avatar.jpg"><link rel="shortcut icon" href="https://raw.githubusercontent.com/geekdanny/images/master/kirito.ico"><link rel="canonical" href="https://broadgeek.com/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2021-03-13 10:15:30'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.3.0"><link rel="alternate" href="/atom.xml" title="极客丹尼" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://raw.githubusercontent.com/geekdanny/images/master/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">37</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">37</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://picture.zwc365.com/getbing.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">极客丹尼</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">极客丹尼</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/geekdanny" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:dhrsongcs@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/01/14/dc7f/" title="C++11 细节知识点">     <img class="post_bg" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++11 细节知识点"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/01/14/dc7f/" title="C++11 细节知识点">C++11 细节知识点</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-01-14T18:09:52.000Z" title="发表于 2021-01-14 10:09:52">2021-01-14</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-01-14T18:09:52.000Z" title="更新于 2021-01-14 10:09:52">2021-01-14</time></span></div><div class="content">Initializers4 ways to initialize variables：
1234int units_sold = 0;int units_sold = &#123;0&#125;;int units_sold&#123;0&#125;;int units_sold(0);
The us of {} was introdcuded by C++11。 It is called list initialization.
When used with variables of built-in type, this form of initialization has one important property: The compiler will not let us list initialize variables of built-in type if the initializer might lead to the loss of information:
123long double ld = 3.1415926536;int a&#123;ld&#125;, ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/01/12/2236/" title="Setup OpenGL Development with Clion on MacOS">     <img class="post_bg" src="https://raw.githubusercontent.com/geekdanny/images/master/blog/qiyvUd.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Setup OpenGL Development with Clion on MacOS"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/01/12/2236/" title="Setup OpenGL Development with Clion on MacOS">Setup OpenGL Development with Clion on MacOS</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-01-12T19:06:07.000Z" title="发表于 2021-01-12 11:06:07">2021-01-12</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-01-12T19:06:07.000Z" title="更新于 2021-01-12 11:06:07">2021-01-12</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/GPU/">GPU</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/OpenGL/">OpenGL</a></span></div><div class="content">前言伴随图形学课程进入中后期，我们也不能光讲理论，不做实践。在2021年的岁月里，让我们“撸起袖子加油干”！
今天，我们从比较容易上手的OpenGL开始。
这门课程的前置基础：

杂货铺里Danny之前写的图形学入门课程
C/C++编程语言

开发环境：

Mac OS， Clion， XCode

或者

Windows，Clion，Visual Studio 2016。

为了统一大家的开发环境，这门课里采用Clion。本人的工作环境是Macbook，所以接下来的内容主要会围绕Macbook+Clion环境配置OpenGL来讲解。
配置C/C++开发环境第一步：Install BrewBrew 是Macbook上用来安装和管理各种工具的的command工具。
安装方法如下：
1/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;
第二步：确认自己的MacOS上安装了gcc：1~ ❯❯❯ gcc --version        ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/01/12/2270/" title="Setup Vulkan Development Environment with Clion on MacOS">     <img class="post_bg" src="https://raw.githubusercontent.com/geekdanny/images/master/blog/FtU9D7.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Setup Vulkan Development Environment with Clion on MacOS"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/01/12/2270/" title="Setup Vulkan Development Environment with Clion on MacOS">Setup Vulkan Development Environment with Clion on MacOS</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-01-12T19:06:07.000Z" title="发表于 2021-01-12 11:06:07">2021-01-12</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-01-12T19:06:07.000Z" title="更新于 2021-01-12 11:06:07">2021-01-12</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/GPU/">GPU</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Vulkan/">Vulkan</a></span></div><div class="content">前言学习图形学编程的时候，其实在MacOS的编程环境默认都是用Xcode，Windows又经常用Visual Studio。但是因为我经常要在Windows 和 MacOS上切换编程，偶尔还得跑到Ubuntu上去，也不想反复的切换不同的IDE，所以我选择了Clion。Clion 好的好处就是跨平台的使用。
今天花了几个小时在MacOS上配置了Clion+Vulkan的开发环境，对于后期学习Vulkan做铺垫。 了解Clion的人都知道，Clion的C/C++编程采用的是cmake 做工程构建，这样子又可以逼迫我使用一个跨平台的构架方案，对于底层的工程构建可以了如指掌，也可使促我更进一步的了解和学习cmake。
我的工作环境MacOS: Big Sur
gcc verson123456~/C/V/shaders ❯❯❯ gcc --versionConfigured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr --with-gxx-include-dir=/Library/Developer/CommandL ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/01/11/b21/" title="Vulkan 导读3: 分配Image资源和创建Swapchain">     <img class="post_bg" src="https://raw.githubusercontent.com/geekdanny/images/master/blog/image-20210111155306450.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vulkan 导读3: 分配Image资源和创建Swapchain"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/01/11/b21/" title="Vulkan 导读3: 分配Image资源和创建Swapchain">Vulkan 导读3: 分配Image资源和创建Swapchain</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-01-11T23:18:14.000Z" title="发表于 2021-01-11 15:18:14">2021-01-11</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-01-11T23:18:14.000Z" title="更新于 2021-01-11 15:18:14">2021-01-11</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/GPU/">GPU</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Vulkan/">Vulkan</a></span></div><div class="content">导读2学习了CB和内存管理。这一节对《Learning Vulkan》的第6章的导读。特介绍了两个主要概念，一个是image resources，另一个是swapchain 和 depth image。
主要内容如下：

Getting started with image resources
Understanding an image resource
Memory allocation and binding an image resource
Introducing swapchains
Creating a depth image
Summarizing the application flow

Getting started with image resourcesVulkan 的资源主要分成两种: 1. image; 2 buffer. 书中的第六章主要是讲解image resources。第七章开始讲解了buffer resources。 image resoure 主要是被用来创建swapchain。
Vulkan的images 主要为contiguous text ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/01/11/7c7/" title="Vulkan 导读2: Command Buffer 和内存管理">     <img class="post_bg" src="https://raw.githubusercontent.com/geekdanny/images/master/blog/NFrL2w.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vulkan 导读2: Command Buffer 和内存管理"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/01/11/7c7/" title="Vulkan 导读2: Command Buffer 和内存管理">Vulkan 导读2: Command Buffer 和内存管理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-01-11T22:26:51.000Z" title="发表于 2021-01-11 14:26:51">2021-01-11</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-01-11T22:26:51.000Z" title="更新于 2021-01-11 14:26:51">2021-01-11</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/GPU/">GPU</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Vulkan/">Vulkan</a></span></div><div class="content">导读2 主要是讲解第五章，之所以跳过2，3，4章是因为这三章关键概念很少，更多的是围绕Vulkan初始化阶段的准备工作。第五章重点讲解了CB和内存的概念，值得对其细节进行整理。
一个command buffer就是a collection of commands. Command buffer 会被提交到一个合适的 hardware queue 让GPU来处理。driver会fetches和validates并compiles这些command buffers，然后再把它们交给GPU来处理。这一章节主要围绕command buffers 和 memory allocation的讲解了以下topics：

Getting started with command buffers
Understanding the command pool and command buffer APIs
Recording command buffers
Implementing the command buffer wrapper class
Managing memory in Vulkan

Get ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/01/11/59e9/" title="Vulkan 导读1: 下一代图形API">     <img class="post_bg" src="https://raw.githubusercontent.com/geekdanny/images/master/blog/640.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vulkan 导读1: 下一代图形API"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/01/11/59e9/" title="Vulkan 导读1: 下一代图形API">Vulkan 导读1: 下一代图形API</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-01-11T22:06:46.000Z" title="发表于 2021-01-11 14:06:46">2021-01-11</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-01-11T22:06:46.000Z" title="更新于 2021-01-11 14:06:46">2021-01-11</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/GPU/">GPU</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Vulkan/">Vulkan</a></span></div><div class="content">写在之前：此篇为Danny针对《Learning Vulkan》一书的导读。导读的目的主要是将一些重要的概念重点归纳和解释，并对不清楚的概念提出疑问，作为后续工作和学习中的待澄清点。
Danny认为，一本好的书，是可以加深技术理解，自画自圆，其义自见的；一本不好的书，要靠读者去猜，搜索很多其他补助资料才能澄清。优秀的书是可以从全局观开始，聚焦到细节。一本不好的书，说的都是正确的废话。 最近读了两本关于Vulkan的书，一本是电子版的《Learning Vulkan》。

一本是花了$175购买的纸质的《Computer Graphics and the Vulkan API》


两本书都是对下一代图形API的细节展开，Danny希望通过一种导读的形式来将这两本书的一些重要概念融合一下。写这篇文章的内容不是说大家看导读就不用去读书了，而是希望辅助大家阅读图书。如今的时代都是速食知识消费，time is money。 大家都没有时间，但是这种速食知识消费很容易让大家知其然而不知其所以然。
导读的梳理其实比较耗时间。技术读物不像读小说那样可以进行速读，阅读过程要注意的环节是避免眼球回跳。但 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/06/29/c305/" title="C++ 的函数模板和类模板">     <img class="post_bg" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++ 的函数模板和类模板"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/06/29/c305/" title="C++ 的函数模板和类模板">C++ 的函数模板和类模板</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-06-29T23:57:18.000Z" title="发表于 2020-06-29 16:57:18">2020-06-29</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-06-29T23:57:18.000Z" title="更新于 2020-06-29 16:57:18">2020-06-29</time></span></div><div class="content">介绍C++提供函数模板（function template）。所谓的函数模板，实际上是建立一个通用函数，其函数的类型和形参类型不具体制定，有一个虚拟的那类型来代表。这个通用函数就成为函数模板。凡是函数体相同的函数都可以用这个模板来代替，不必定义多个函数，只需在末班中定义一次即可。在调用函数时，系统会根据形参的类型来取代模板的虚拟类型，从而实现了不同函数的功能。

C++ 提供两种模板机制： 函数模板，类模板来进行泛型编程

类属 – 类型参数化，又称参数模板
使程序（算法）可以从逻辑功能上抽象，把被处理的对象（数据）类型作为参数传递。


总结：

模板把函数或类要处理的数据类型参数化，表现为参数的多态性，成为类属。
模板用于表达逻辑的结构相同，但具体数据元素类型不同的数据对象的通用行为。
让算法和数据类型分离

函数模板为什么要有函数模板当函数业务逻辑相同但参数不同时，我们就需要用到函数模板。
函数模板做函数参数的本质是类型参数化，好处就是可以编写与类型无关的代码；
注意：模板的声明或定义只能在全局，命名空间或类范围内进行。即不能在局部范围，函数内进行，比如不能在main函数中声明或 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/06/29/584/" title="C++：在堆上创建对象，还是在栈上?">     <img class="post_bg" src="https://raw.githubusercontent.com/geekdanny/images/master/blog/DPCqUP.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++：在堆上创建对象，还是在栈上?"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/06/29/584/" title="C++：在堆上创建对象，还是在栈上?">C++：在堆上创建对象，还是在栈上?</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-06-29T21:29:21.000Z" title="发表于 2020-06-29 14:29:21">2020-06-29</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-06-29T21:29:21.000Z" title="更新于 2020-06-29 14:29:21">2020-06-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Programming-Languages/">Programming Languages</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/C/">C++</a></span></div><div class="content">本文参考自：https://www.devbean.net/2014/02/cpp-create-object-on-heap-or-stack/  觉得对初学者有些帮助。
关于究竟是在堆上还是在栈上创建对象，可能很多初学者感到迷惑。我想可以把这部分内容拿出来详细介绍一下。现在，假设你已经清楚什么是堆，什么是栈。
如果需要在堆上创建对象，要么使用new运算符，要么使用malloc系列函数。这点没有异议。
真正有异议的是下面的代码：
1Object obj;
此时，obj是在栈上分配的吗？
要回答这个问题，我们首先要理解这个语句是什么意思。这个语句就是代表着，在栈上创建对象吗？
其实，这行语句的含义是，使对象obj具有“自动存储（automatic storage）”的性质。所谓“自动存储”，意思是这个对象的存储位置取决于其声明所在的上下文。

如果这个语句出现在函数内部，那么它就在栈上创建对象。
如果这个语句不是在函数内部，而是作为一个类的成员变量，则取决于这个类的对象是如何分配的。

考虑下面的代码：
123456class Class&#123;    Object obj;&#1 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/06/29/52b1/" title="struct vs class in C++">     <img class="post_bg" src="https://raw.githubusercontent.com/geekdanny/images/master/blog/P1F4HC.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="struct vs class in C++"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/06/29/52b1/" title="struct vs class in C++">struct vs class in C++</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-06-29T18:39:35.000Z" title="发表于 2020-06-29 11:39:35">2020-06-29</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-06-29T18:39:35.000Z" title="更新于 2020-06-29 11:39:35">2020-06-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Programming-Languages/">Programming Languages</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/C-C/">C/C++</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/struct/">struct</a></span></div><div class="content">基本区别struct 由c语言引入。在c语言中，是定义结构化数据的标准选择。其主观上的定义可参考：https://zh-google-styleguide.readthedocs.io/en/latest/google-cpp-styleguide/classes/#vs
c++ 同时支持struct 和 class. 原因之一是c++ 是 c 的超集，涵盖c 已支持的语言要素，将更好的支持向下兼容(原来能够工作的c 源程序移植到c++，可以支付极少甚至0代价)。首先我们来看结构体在C和C++中的区别。
C语言中的结构体C语言中的结构体不能为空，否则会报错要求一个结构或联合至少有一个成员
C语言中的结构体只涉及到数据结构，而不涉及到算法.也就是说在C中数据结构和算法是分离的。换句话说就是C语言中的结构体只能定义成员变量，但是不能定义成员函数。然而在C++中既可以定义成员变量又可以定义成员函数， C++中的结构体和类体现了数据结构和算法的结合。 不过虽然C语言的结构体中不能定义成员函数，但是却可以定义函数指针，不过函数指针本质上不是函数而是指针，所以总的来说C语言中的结构体只是一个复杂数 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/06/27/6736/" title="Code Committer on Design Patterns:Open-Closed Principle">     <img class="post_bg" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Code Committer on Design Patterns:Open-Closed Principle"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/06/27/6736/" title="Code Committer on Design Patterns:Open-Closed Principle">Code Committer on Design Patterns:Open-Closed Principle</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-06-27T16:21:52.000Z" title="发表于 2020-06-27 09:21:52">2020-06-27</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-06-27T16:21:52.000Z" title="更新于 2020-06-27 09:21:52">2020-06-27</time></span></div><div class="content">Open-Closed Principle （开闭原则）
Robert C. Martin considered this principle as the “the most important principle of object-oriented design”. “Software entities (classes, modules, functions, etc.) should be open for extension, but closed for modification.”

The Open Close Principle states that the design and writing of the code should be done in a way that new functionality should be added with minimum changes in the existing code. The design should be done in a way to allow the adding of new functio ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://raw.githubusercontent.com/geekdanny/images/master/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Danny Song</div><div class="author-info__description">白羊男子 一半明媚 一半忧伤</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">37</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">37</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/geekdanny"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/geekdanny" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:dhrsongcs@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">每天进步一点点</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/01/14/dc7f/" title="C++11 细节知识点"><img src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++11 细节知识点"/></a><div class="content"><a class="title" href="/2021/01/14/dc7f/" title="C++11 细节知识点">C++11 细节知识点</a><time datetime="2021-01-14T18:09:52.000Z" title="更新于 2021-01-14 10:09:52">2021-01-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/01/12/2236/" title="Setup OpenGL Development with Clion on MacOS"><img src="https://raw.githubusercontent.com/geekdanny/images/master/blog/qiyvUd.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Setup OpenGL Development with Clion on MacOS"/></a><div class="content"><a class="title" href="/2021/01/12/2236/" title="Setup OpenGL Development with Clion on MacOS">Setup OpenGL Development with Clion on MacOS</a><time datetime="2021-01-12T19:06:07.000Z" title="更新于 2021-01-12 11:06:07">2021-01-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/01/12/2270/" title="Setup Vulkan Development Environment with Clion on MacOS"><img src="https://raw.githubusercontent.com/geekdanny/images/master/blog/FtU9D7.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Setup Vulkan Development Environment with Clion on MacOS"/></a><div class="content"><a class="title" href="/2021/01/12/2270/" title="Setup Vulkan Development Environment with Clion on MacOS">Setup Vulkan Development Environment with Clion on MacOS</a><time datetime="2021-01-12T19:06:07.000Z" title="更新于 2021-01-12 11:06:07">2021-01-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/01/11/b21/" title="Vulkan 导读3: 分配Image资源和创建Swapchain"><img src="https://raw.githubusercontent.com/geekdanny/images/master/blog/image-20210111155306450.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vulkan 导读3: 分配Image资源和创建Swapchain"/></a><div class="content"><a class="title" href="/2021/01/11/b21/" title="Vulkan 导读3: 分配Image资源和创建Swapchain">Vulkan 导读3: 分配Image资源和创建Swapchain</a><time datetime="2021-01-11T23:18:14.000Z" title="更新于 2021-01-11 15:18:14">2021-01-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/01/11/7c7/" title="Vulkan 导读2: Command Buffer 和内存管理"><img src="https://raw.githubusercontent.com/geekdanny/images/master/blog/NFrL2w.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vulkan 导读2: Command Buffer 和内存管理"/></a><div class="content"><a class="title" href="/2021/01/11/7c7/" title="Vulkan 导读2: Command Buffer 和内存管理">Vulkan 导读2: Command Buffer 和内存管理</a><time datetime="2021-01-11T22:26:51.000Z" title="更新于 2021-01-11 14:26:51">2021-01-11</time></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-bolt"></i><span>最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Architecture/"><span class="card-category-list-name">Architecture</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Compilation/"><span class="card-category-list-name">Compilation</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/DevOps/"><span class="card-category-list-name">DevOps</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Frontend/"><span class="card-category-list-name">Frontend</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/GPU/"><span class="card-category-list-name">GPU</span><span class="card-category-list-count">7</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Programming-Languages/"><span class="card-category-list-name">Programming Languages</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%8D%8E%E4%B8%BA/"><span class="card-category-list-name">华为</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%9B%BD%E9%99%85%E7%BB%8F%E6%B5%8E/"><span class="card-category-list-name">国际经济</span><span class="card-category-list-count">2</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Android/" style="font-size: 1.3em; color: #99a1ac">Android</a> <a href="/tags/Architecture/" style="font-size: 1.1em; color: #999">Architecture</a> <a href="/tags/C/" style="font-size: 1.1em; color: #999">C</a> <a href="/tags/C/" style="font-size: 1.3em; color: #99a1ac">C++</a> <a href="/tags/C-C/" style="font-size: 1.1em; color: #999">C/C++</a> <a href="/tags/Compilation/" style="font-size: 1.1em; color: #999">Compilation</a> <a href="/tags/Design/" style="font-size: 1.1em; color: #999">Design</a> <a href="/tags/Design-Patterns/" style="font-size: 1.2em; color: #999da3">Design Patterns</a> <a href="/tags/Framework/" style="font-size: 1.1em; color: #999">Framework</a> <a href="/tags/Github/" style="font-size: 1.1em; color: #999">Github</a> <a href="/tags/GoDaddy/" style="font-size: 1.1em; color: #999">GoDaddy</a> <a href="/tags/Hexo/" style="font-size: 1.1em; color: #999">Hexo</a> <a href="/tags/IntelliJ/" style="font-size: 1.1em; color: #999">IntelliJ</a> <a href="/tags/Java/" style="font-size: 1.1em; color: #999">Java</a> <a href="/tags/Kernel/" style="font-size: 1.1em; color: #999">Kernel</a> <a href="/tags/Linux/" style="font-size: 1.1em; color: #999">Linux</a> <a href="/tags/Mac/" style="font-size: 1.1em; color: #999">Mac</a> <a href="/tags/Mali/" style="font-size: 1.2em; color: #999da3">Mali</a> <a href="/tags/OpenGL/" style="font-size: 1.1em; color: #999">OpenGL</a> <a href="/tags/React/" style="font-size: 1.1em; color: #999">React</a> <a href="/tags/SIP/" style="font-size: 1.1em; color: #999">SIP</a> <a href="/tags/Spring/" style="font-size: 1.2em; color: #999da3">Spring</a> <a href="/tags/Springboot/" style="font-size: 1.2em; color: #999da3">Springboot</a> <a href="/tags/Vulkan/" style="font-size: 1.4em; color: #99a5b6">Vulkan</a> <a href="/tags/Yuque/" style="font-size: 1.1em; color: #999">Yuque</a> <a href="/tags/k8s/" style="font-size: 1.3em; color: #99a1ac">k8s</a> <a href="/tags/ova/" style="font-size: 1.1em; color: #999">ova</a> <a href="/tags/ovftool/" style="font-size: 1.1em; color: #999">ovftool</a> <a href="/tags/struct/" style="font-size: 1.1em; color: #999">struct</a> <a href="/tags/vmdk/" style="font-size: 1.1em; color: #999">vmdk</a> <a href="/tags/%E4%B8%AD%E7%BE%8E%E5%AF%B9%E6%8A%97/" style="font-size: 1.2em; color: #999da3">中美对抗</a> <a href="/tags/%E5%8D%8E%E4%B8%BA/" style="font-size: 1.5em; color: #99a9bf">华为</a> <a href="/tags/%E6%96%B9%E8%88%9F/" style="font-size: 1.1em; color: #999">方舟</a> <a href="/tags/%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83/" style="font-size: 1.1em; color: #999">编译环境</a> <a href="/tags/%E8%8A%AF%E7%89%87/" style="font-size: 1.4em; color: #99a5b6">芯片</a> <a href="/tags/%E9%B8%BF%E8%92%99/" style="font-size: 1.1em; color: #999">鸿蒙</a> <a href="/tags/%E9%BA%92%E9%BA%9F/" style="font-size: 1.1em; color: #999">麒麟</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/01/"><span class="card-archive-list-date">一月 2021</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/06/"><span class="card-archive-list-date">六月 2020</span><span class="card-archive-list-count">9</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/05/"><span class="card-archive-list-date">五月 2020</span><span class="card-archive-list-count">12</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/01/"><span class="card-archive-list-date">一月 2020</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2019/12/"><span class="card-archive-list-date">十二月 2019</span><span class="card-archive-list-count">8</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">37</div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">70.3k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2021-03-13T18:15:30.114Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2021 By Danny Song</div><div class="footer_custom_text">回忆是一种重逢 遗忘是一种自由</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function subtitleType () {
  fetch('https://v1.hitokoto.cn')
    .then(response => response.json())
    .then(data => {
      if (true) {
        var from = '出自 ' + data.from
        var sub = "".length == 0 ? new Array() : "".split(',')
        var both = sub.unshift(data.hitokoto, from)
        var typed = new Typed('#subtitle', {
          strings: sub,
          startDelay: 300,
          typeSpeed: 150,
          loop: true,
          backSpeed: 50,
        })
      } else {
        document.getElementById('subtitle').innerHTML = data.hitokoto
      }
    })
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}
</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const findTrueUrl = (array) => {
    let url = ''
    Promise.all(array.map(item =>
      fetch(item.url).then(resp => resp.json()).then(data => {
        if (data.user.login === 'utterances-bot') {
          url = data.body.match(/https?\:\/\/[^\" ]+/ig).slice(-1)
          return url[0]
        } else {
          url = data.body.match(/https?\:\/\/[^\" ]+/i)
          return url[0]
        }
      })
    )).then(res => {
        array = array.map((i,index)=> {
          return {
            ...i,
            url: res[index]
          }
        })

        saveToLocal.set('github-newest-comments', JSON.stringify(array), 10/(60*24))
        generateHtml(array)
    });
  }

  const getComment = () => {
    fetch('https://api.github.com/repos/geekdanny/geek-comments/issues/comments?sort=updated&direction=desc&per_page=6&page=1',{
      "headers": {
        Accept: 'application/vnd.github.v3.html+json'
      }
    })
      .then(response => response.json())
      .then(data => {
        const githubArray = data.map(item => {
          return {
            'avatar': item.user.avatar_url,
            'content': changeContent(item.body_html),
            'nick': item.user.login,
            'url': item.issue_url,
            'date': item.updated_at,
            'githubUrl': item.html_url
          }
        })
        findTrueUrl(githubArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "无法获取评论，请确认相关配置是否正确"
      })
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('github-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.9}});</script></body></html>