<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>Code Committer on Design Patterns:Open-Closed Principle | 极客丹尼</title><meta name="description" content="Code Committer on Design Patterns:Open-Closed Principle"><meta name="author" content="Danny Song"><meta name="copyright" content="Danny Song"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="https://raw.githubusercontent.com/geekdanny/images/master/kirito.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Code Committer on Design Patterns:Open-Closed Principle"><meta name="twitter:description" content="Code Committer on Design Patterns:Open-Closed Principle"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><meta property="og:type" content="article"><meta property="og:title" content="Code Committer on Design Patterns:Open-Closed Principle"><meta property="og:url" content="https://broadgeek.com/2020/06/27/6736/"><meta property="og:site_name" content="极客丹尼"><meta property="og:description" content="Code Committer on Design Patterns:Open-Closed Principle"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://broadgeek.com/2020/06/27/6736/"><link rel="prev" title="struct vs class in C++" href="https://broadgeek.com/2020/06/29/52b1/"><link rel="next" title="Data Type Advanced in C" href="https://broadgeek.com/2020/06/22/5fe2/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 5.3.0"><link rel="alternate" href="/atom.xml" title="极客丹尼" type="application/atom+xml">
</head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">极客丹尼</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://raw.githubusercontent.com/geekdanny/images/master/avatar.jpg" onerror="onerror=null;src='https://raw.githubusercontent.com/geekdanny/images/master/loading404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">36</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">37</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">12</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#Open-Closed-Principle-%EF%BC%88%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%EF%BC%89"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">Open-Closed Principle （开闭原则）</span></a></li></ol></div></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Open-Closed-Principle-%EF%BC%88%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%EF%BC%89"><span class="toc-number">1.</span> <span class="toc-text">Open-Closed Principle （开闭原则）</span></a></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png)"><div id="post-info"><div id="post-title"><div class="posttitle">Code Committer on Design Patterns:Open-Closed Principle</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 发表于 2020-06-27<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> 更新于 2020-06-27</time><div class="post-meta-wordcount"><i class="fa fa-file-word-o post-meta__icon fa-fw" aria-hidden="true"></i><span>字数总计:</span><span class="word-count">239</span><span class="post-meta__separator">|</span><i class="fa fa-clock-o post-meta__icon fa-fw" aria-hidden="true"></i><span>阅读时长: 1 分钟</span><div class="post-meta-pv-cv"><span class="post-meta__separator">|</span><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>阅读量:</span><span id="busuanzi_value_page_pv"></span></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><html><head></head><body><h1 id="Open-Closed-Principle-（开闭原则）"><a href="#Open-Closed-Principle-（开闭原则）" class="headerlink" title="Open-Closed Principle （开闭原则）"></a>Open-Closed Principle （开闭原则）</h1><blockquote>
<p>Robert C. Martin considered this principle as the “the most important principle of object-oriented design”. <em>“Software entities (classes, modules, functions, etc.) should be open for extension, but closed for modification.”</em></p>
</blockquote>
<p>The <strong>Open Close Principle</strong> states that the design and writing of the code should be done in a way that new functionality should be added with minimum changes in the existing code. The design should be done in a way to allow the adding of new functionality as new classes, keeping as much as possible existing code unchanged. 软件实体（包括类、模块、功能等）应该对扩展开放，但是对修改关闭。</p>
<p>Lets start with an exmple. Supposed we are asked to implement an autoshop application that can allows to filter by vehichle’s colour.  Let’s implement the code now:</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string"><iostream></iostream></span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string"><vector></vector></span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string"><string></string></span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ENUM_TO_STR(ENUM) std::string(#ENUM)</span></span><br><span class="line"><span class="comment">//define the main properties of vehicles</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="keyword">class</span> <span class="title">Colour</span> {</span>blue, red, black, white};</span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="keyword">class</span> <span class="title">Brand</span> {</span>bmw, audi, benz};</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Vehicle</span>{</span></span><br><span class="line">     <span class="built_in">string</span> model;</span><br><span class="line">     Colour colour;</span><br><span class="line">     Brand brand;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="comment">//Following the SRP, we create VehicleFilter to handle all the filter functionaliy</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">VehicleFilter</span>{</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * The filter function to filter the vehicles by colour</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">     <span class="function"><span class="built_in">vector</span><vehicle *> <span class="title">by_Colour</span><span class="params">(<span class="keyword">const</span> <span class="built_in">vector</span><vehicle*>& vehicles, Colour colour)</vehicle*></span></vehicle></span>{</span><br><span class="line">         <span class="built_in">vector</span> <vehicle*> result;</vehicle*></span><br><span class="line">         <span class="keyword">for</span> (<span class="keyword">auto</span>& item: vehicles){</span><br><span class="line">             <span class="keyword">if</span>(item->colour == colour){</span><br><span class="line">                 result.push_back(item);</span><br><span class="line">             }</span><br><span class="line">         }</span><br><span class="line">         <span class="keyword">return</span> result;</span><br><span class="line">     }</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> << <span class="string">"The Open-Closed Principle Example"</span> << <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    Vehicle v1 {<span class="string">"330"</span>, Colour::white, Brand::bmw};</span><br><span class="line">    Vehicle v2 {<span class="string">"A4"</span>, Colour::black, Brand::audi};</span><br><span class="line">    Vehicle v3 {<span class="string">"335"</span>, Colour::red, Brand::bmw};</span><br><span class="line">    Vehicle v4 {<span class="string">"C300"</span>, Colour::white, Brand::benz};</span><br><span class="line">    Vehicle v5 {<span class="string">"GL550"</span>, Colour::white, Brand::benz};</span><br><span class="line">    <span class="built_in">vector</span><vehicle*> vehicles {&v1, &v2, &v3, &v4, &v5};</vehicle*></span><br><span class="line">    VehicleFilter vehicleFilter;</span><br><span class="line">    <span class="comment">//filter all the vehicles by colour white</span></span><br><span class="line">    <span class="keyword">auto</span> white_vehicles = vehicleFilter.by_Colour(vehicles, Colour::white);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span>& vehicle: white_vehicles){</span><br><span class="line">        <span class="built_in">cout</span> << vehicle->model <<<span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div>
<p>The above code works as it can filter the vehicles by their colours. We don’ face any particular problem until the the we receive a new requirement from PM to ask us to filter by <strong>brand</strong>. Now, thinking through this new requirement easily, we add a new function by <strong>duplicating</strong> the VehicleFilter function with a filter parameter by brand.</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* Create a filter function to filter the vehicles by brand</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="function"><span class="built_in">vector</span><vehicle *> <span class="title">by_Brand</span><span class="params">(<span class="keyword">const</span> <span class="built_in">vector</span><vehicle*>& vehicles, Brand brand)</vehicle*></span></vehicle></span>{</span><br><span class="line">    <span class="built_in">vector</span> <vehicle*> result;</vehicle*></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span>& item: vehicles){</span><br><span class="line">        <span class="keyword">if</span>(item->brand == brand){</span><br><span class="line">            result.push_back(item);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div>
<p>Then later on, the PM asked to support filtering by both <strong>colour</strong> and <strong>brand</strong>. Then we add another new function:</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* Create a filter function to filter the vehicles by both colour and brand</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="function"><span class="built_in">vector</span><vehicle *> <span class="title">by_ColourAndBrand</span><span class="params">(<span class="keyword">const</span> <span class="built_in">vector</span><vehicle *> &vehicles, Colour colour, Brand brand)</vehicle></span> </vehicle></span>{</span><br><span class="line">    <span class="built_in">vector</span><vehicle *> result;</vehicle></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> &item: vehicles) {</span><br><span class="line">        <span class="keyword">if</span> (item->colour == colour && item->brand == brand) {</span><br><span class="line">            result.push_back(item);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">}	</span><br></pre></td></tr></tbody></table></figure></div>
<p>This progmatic approach works but it can’t scale. Now, we have 2 critieras, we have 3 funtions. The class diagram gives us a simple model as following:</p>
<p><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/geekdanny/images/master/blog/Z9UurF.png" data-fancybox="group" data-caption="Z9UurF" class="fancybox"><img alt="Z9UurF" title="Z9UurF" data-src="https://raw.githubusercontent.com/geekdanny/images/master/blog/Z9UurF.png" class="lazyload"></a></p>
<p>When we have 3 criterias, we will have 7 funtions. Supposed PM keeps adding new filter criterials such as, <em>year</em>, <em>mileage</em>, <em>location</em> and etc. The combination of these filters will result in <strong>many similar functions with modifying our existing code</strong>. This problems brings us to the Open-Closed principle, <strong>stating the system should be open to extension, but closed to modification</strong>. In the above example, we did modifitication instead of extension, which broke the <strong>open-closed</strong> principle. </p>
<p>To enforce the open-closed principle, we want filtering to be extensible without modifying it. To achieve it, we can conceptually seperate the filtering model into two different models by following the <strong>SRP</strong>. One is a <strong>filter</strong>, who takes all the passed-in items and returns the matched ones; the other one is a <strong>specification</strong>, which is the meta data to the describe the vehicle. With the ideas we we have, we need find an approch to achive this conceputal split. The normal approach of allowing extension is to define an interface, which means to set a contact for others to extend its implementation.</p>
<p><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/geekdanny/images/master/blog/Zy19sK.png" data-fancybox="group" data-caption="Zy19sK" class="fancybox"><img alt="Zy19sK" title="Zy19sK" data-src="https://raw.githubusercontent.com/geekdanny/images/master/blog/Zy19sK.png" class="lazyload"></a></p>
<p>In C++, we can create an interface by creating a template. Let’s firstly define the <strong>specification</strong> interface, in whcih it explicity defines a contract to check if an item matches some specification.</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> <<span class="keyword">typename</span> T> <span class="class"><span class="keyword">struct</span> <span class="title">Specificatoin</span>{</span></span><br><span class="line">	<span class="comment">//Define an interface function to check if a item matches a specification</span></span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> <span class="keyword">bool</span> <span class="title">is_match</span><span class="params">(T * item)</span> </span>= <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div>
</body></html></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Danny Song</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://broadgeek.com/2020/06/27/6736/">https://broadgeek.com/2020/06/27/6736/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://broadgeek.com">极客丹尼</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="https://raw.githubusercontent.com/geekdanny/images/master/wechat.jpg" alt="微信"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="https://raw.githubusercontent.com/geekdanny/images/master/alipay.jpg" alt="支付寶"><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020/06/29/52b1/"><img class="prev_cover lazyload" data-src="https://raw.githubusercontent.com/geekdanny/images/master/blog/P1F4HC.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>struct vs class in C++</span></div></a></div><div class="next-post pull_right"><a href="/2020/06/22/5fe2/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>Data Type Advanced in C</span></div></a></div></nav><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = true == true ? true : false;
var verify = false == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'k2Wixoxbl6pkWGvMvGiokWTD-MdYXbMMI',
  appKey:'oGRBxV8zDB1hP72TQ6EoYj81',
  placeholder:'Please leave your footprints',
  avatar:'monsterid',
  guest_info:guest_info,
  pageSize:'10',
  lang:'zh-cn',
  recordIP: true
});</script></div></div></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2021 By Danny Song</div><div class="footer_custom_text">回忆是一种重逢 遗忘是一种自由</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">简</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-nest.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.9}});</script></body></html>